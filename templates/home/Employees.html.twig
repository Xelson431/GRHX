{% extends "base.html.twig" %}

{% block body %}
    {% if is_granted("ROLE_ADMIN") %}
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#exampleModal">
            Ajouter un employe
        </button>
    {% endif %}


    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ajouter un Employ√©</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form action="{{ path('employees') }}" method="POST">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="nom">Nom</label>
                                <input type="text" class="form-control" name="nom" id="nom" placeholder="Nom">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="prenom">Prenom</label>
                                <input type="text" class="form-control" name="prenom" id="prenom" placeholder="Prenom">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="cin">CIN</label>
                            <input type="text" class="form-control"  name="cin" id="cin" placeholder="">
                        </div>




                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="Email" class="form-control"  name="email" id="email" placeholder="Email" required>
                        </div>

                        <div class="form-group">
                            <label for="pass">Password</label>
                            <input type="password" class="form-control"  name="pass" id="pass" placeholder="password" value="testtest" required>
                        </div>


                        <div class="form-group">
                            <label for="address">Address</label>
                            <input type="text" class="form-control"  name="address" id="address" placeholder="1234 Main St">
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="DateNaissance">Date de Naissance</label>
                                <input type="date" class="form-control" name="DateNaissance" id="DateNaissance">
                            </div>



                            <div class="form-group col-md-4">
                                <label for="grade">Fonction</label>
                                <select id="grade"  name="grade" class="form-control">
                                    <option selected>Directeur general</option>
                                    <option selected>Responsable Commercial</option>
                                    <option selected>Comptable</option>

                                </select>
                            </div>


                            <div class="form-group col-md-6">
                                <label for="Departement">Departement</label>
                                <select id="Departement"  name="Departement" class="form-control">
                                    <option selected></option>
                                    <option selected>Administration</option>
                                    <option selected>Commercial</option>
                                    <option selected>Technique</option>
                                    <option selected>Resources Humaines</option>


                                </select>
                            </div>


                            <div class="form-group col-md-4">
                                <label for="tel">Tel</label>
                                <input type="text" class="form-control" name="tel" id="tel" required>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="DateEmbauche">Date d'Embauche</label>
                                <input type="date" class="form-control" name="DateEmbauche" id="DateEmbauche">
                            </div>

                            <div class="form-group col-md-4">
                                <label for="Salaire">Salaire</label>
                                <input type="text" class="form-control" name="Salaire" id="Salaire" required>
                            </div>


                        </div>
                        <div class="form-group">

                        </div>

                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                        <button type="submit" class="btn btn-primary">Ajouter</button>
                    </form>





                </div>
                <div class="modal-footer">


                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid">
<br>
        <h3 class="text-dark mb-4"></h3>
        <div class="card shadow">
            <div class="card-header py-3">
                <p class="text-primary m-0 font-weight-bold">Employee Info</p>
            </div>
            <div class="card-body">
                <table id="example" class="table table-striped table-bordered" style="overflow: hidden">
                    <thead>
                    <tr>
                        <th>Nom et Prenom</th>
                        <th>Position</th>
                        <th>Departement</th>
                        <th>CIN</th>
                        <th>Salaire</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for data in Employees %}
                        <tr>
                            <td>{{ data.name }}</td>
                            <td> {{ data.grade }}</td>
                            <td> {{ data.Departement }}</td>
                            <td> {{ data.cin }}</td>
                            <td> {{ data.salaire }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>


            </div>
        </div>
    </div>
{% endblock %}